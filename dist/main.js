(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{s:()=>l});const t=function(e,t){window.localStorage.setItem(t,JSON.stringify(e))},n=function(e){let t=JSON.parse(window.localStorage.getItem(e));return null===t&&(t=[]),t},o=(()=>{function e(e,d){e.addEventListener("click",(function l(){event.stopPropagation();const r=d.getElementsByClassName("project-text")[0].textContent;let c=n("projects");const i=c.indexOf(r);c.splice(i,1),t(c,"projects");const s=document.getElementById("input-div");null!==s&&(s.remove(),o()),d.remove(),e.removeEventListener("click",l)}))}function o(){const d=document.getElementById("new-project");d.style.cursor="pointer",d.addEventListener("click",(function l(){const c=document.createElement("div");c.id="input-div",c.classList.add("projects-item");const i=document.createElement("input");i.id="new-project-input",i.setAttribute("type","text"),i.setAttribute("placeholder","Name"),c.appendChild(i);const s=document.createElement("div");s.id="new-project-submit",s.setAttribute("title","Save"),c.appendChild(s);const a=document.createElement("div");a.id="new-project-cancel",a.setAttribute("title","Cancel"),c.appendChild(a),document.getElementById("projects-list").insertBefore(c,d),d.removeEventListener("click",l),function(){const d=document.getElementById("new-project-input"),l=document.getElementById("new-project-submit");let c=document.getElementsByClassName("project-text");c=Array.from(c).map((e=>e.textContent.toLowerCase())),c.push("all"),c.push("+ new project"),l.addEventListener("click",(()=>{let l=d.value;if(""===l)d.style.borderBottom="2px solid red";else if(-1!==c.indexOf(l.toLowerCase()))d.value="",d.style.borderBottom="2px solid red",d.setAttribute("placeholder","Already Exists");else if(l.length>20)d.value="",d.style.borderBottom="2px solid red",d.setAttribute("placeholder","Too Long");else{const d=document.createElement("div");d.classList.add("projects-item");const c=document.createElement("p");c.textContent=l,c.classList.add("project-text"),d.appendChild(c);const i=document.createElement("button");i.classList.add("delete"),i.setAttribute("title","Delete"),d.appendChild(i);const s=document.getElementById("input-div");document.getElementById("projects-list").insertBefore(d,s),e(i,d),s.remove(),o();let a=n("projects");a.push(l),t(a,"projects"),r()}})),document.getElementById("new-project-cancel").addEventListener("click",(()=>{document.getElementById("input-div").remove(),o()}))}(),d.style.cursor="auto"}))}let d="All";function r(){let e=document.querySelectorAll(".projects-item, #all-projects");Array.from(e).forEach((t=>{t.addEventListener("click",(()=>{Array.from(e).forEach((e=>{e.style.backgroundColor="rgb(0, 7, 93)"})),t.style.backgroundColor="#3254a8",d=t.textContent,l()}))}))}return{startSidebar:function(){!function(){const e=document.getElementById("open-sidebar"),t=document.getElementById("sidebar"),n=document.getElementById("darkened");e.addEventListener("click",(()=>{t.style.width="80vw",n.style.display="block"})),document.getElementById("close-sidebar").addEventListener("click",(()=>{t.style.width="0px",n.style.display="none"})),n.addEventListener("click",(()=>{n.style.display="none",t.style.width="0px"}))}(),o(),function(){let t=n("projects");const o=document.getElementById("projects-list");for(let n=0;n<t.length;n++){const d=document.createElement("div");d.classList.add("projects-item");const l=document.createElement("p");l.textContent=t[n],l.classList.add("project-text"),d.appendChild(l);const r=document.createElement("button");r.classList.add("delete"),r.setAttribute("title","Delete"),d.appendChild(r,d);const c=document.getElementById("new-project");o.insertBefore(d,c),e(r,d)}r()}()},getCurrentProject:function(){return d}}})(),d=(()=>{function e(){const e=document.getElementById("new-todo");e.style.backgroundColor="#3254a8",e.style.transition="0s"}function t(e){let t=(new Date).toISOString().split("T")[0];e.setAttribute("min",t)}function n(){const t=document.getElementById("new-todo");t.style.height="50px",t.style.cursor="pointer",t.getElementsByTagName("p")[0].style.display="block",document.getElementById("new-todo-form").style.display="none",t.addEventListener("mouseover",e)}function o(){document.getElementById("cancel-todo").addEventListener("click",(()=>{event.stopPropagation(),n();const e=document.getElementById("title-input"),t=document.getElementById("description-input"),o=document.getElementById("date-input");e.value="",t.value="",o.value="",document.getElementById("select-default").selected="Low",e.style.border="1px solid white",e.setAttribute("Placeholder",""),o.style.border="1px solid white"}))}return{startHelpers:function(){!function(){const n=document.getElementById("new-todo");t(document.getElementById("date-input")),n.addEventListener("mouseover",e),n.addEventListener("mouseleave",(()=>{n.style.backgroundColor="rgb(0, 7, 93)"})),n.addEventListener("click",(()=>{n.style.height="auto",n.getElementsByTagName("p")[0].style.display="none",n.style.cursor="auto",n.style.backgroundColor="rgb(0, 7, 93)",n.removeEventListener("mouseover",e),document.getElementById("new-todo-form").style.display="block"}))}(),o()},cancelNewTodo:o,closeNewTodo:n,clearCurrentTodo:function(e){e.querySelectorAll("*").forEach((e=>e.remove()))},setMinDate:t,formatDate:function(e){let t=new Date(e.value);return`${t.getDate()} ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${t.getFullYear()}`}}})();function l(){const e=document.getElementById("container");d.clearCurrentTodo(e);let t=o.getCurrentProject();n("todo").forEach(((n,o)=>{if("All"===t){const t=r(n,o);e.appendChild(t)}else if(n.project===t){const t=r(n,o);e.appendChild(t)}}))}function r(e,o){const l=document.createElement("div");l.setAttribute("data-index",o);const c=document.createElement("h4");c.textContent=e.title,c.classList.add("todo-title"),l.appendChild(c);const i=document.createElement("p");i.textContent=e.dueDate,i.classList.add("todo-date"),l.appendChild(i);const s=document.createElement("p");s.textContent=e.description,s.classList.add("todo-description"),l.appendChild(s);const a=document.createElement("p");a.classList.add("todo-priority"),l.appendChild(a),"Low"===e.priority?l.style.borderTop="8px solid #00c220":"Medium"===e.priority?l.style.borderTop="8px solid #fce803":l.style.borderTop="8px solid red";const u=document.createElement("div"),p=document.createElement("button");p.classList.add("edit-button"),u.appendChild(p);const m=document.createElement("button");return m.classList.add("delete-button"),m.setAttribute("title","Delete"),function(e,o){e.addEventListener("click",(()=>{d.clearCurrentTodo(o);const e=o.getAttribute("data-index");let l=n("todo");const c=document.createElement("form");c.classList.add("edit-todo-form"),c.setAttribute("data-index",e);const i=document.createElement("label");i.textContent="Title",c.appendChild(i),c.appendChild(document.createElement("br"));const s=document.createElement("input");s.classList.add("edit-title"),s.setAttribute("type","text"),s.value=l[e].title,c.appendChild(s),c.appendChild(document.createElement("br"));const a=document.createElement("label");a.textContent="Description",c.appendChild(a),c.appendChild(document.createElement("br"));const u=document.createElement("textarea");u.classList.add("edit-description"),u.textContent=l[e].description,c.appendChild(u),c.appendChild(document.createElement("br"));const p=document.createElement("label");p.textContent="Due Date",c.appendChild(p),c.appendChild(document.createElement("br"));const m=document.createElement("input");m.classList.add("edit-date");let y=new Date(l[e].dueDate).toLocaleDateString().split("/");m.defaultValue=`${y[2]}-${y[1]}-${y[0]}`,d.setMinDate(m),m.setAttribute("type","date"),c.appendChild(m),c.appendChild(document.createElement("br"));const E=document.createElement("label");E.textContent="Priority",c.appendChild(E),c.appendChild(document.createElement("br"));const b=document.createElement("select");b.classList.add("edit-priority");const v=document.createElement("option");v.setAttribute("value","Low"),v.textContent="Low",b.appendChild(v);const h=document.createElement("option");h.setAttribute("value","Medium"),h.textContent="Medium","Medium"===l[e].priority&&h.setAttribute("selected","selected"),b.appendChild(h);const g=document.createElement("option");g.setAttribute("value","High"),g.textContent="High","High"===l[e].priority&&g.setAttribute("selected","selected"),b.appendChild(g),c.appendChild(b),c.appendChild(document.createElement("br"));const C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("edit-save"),C.textContent="Save",c.appendChild(C);const f=document.createElement("button");f.setAttribute("type","button"),f.classList.add("edit-save"),f.textContent="Cancel",c.appendChild(f),o.appendChild(c),f.addEventListener("click",(()=>{const t=r(l[e],e);o.parentNode.replaceChild(t,o)})),C.addEventListener("click",(()=>{const n=document.querySelector(`form[data-index="${e}"]`),c=n.querySelector(".edit-title"),i=n.querySelector(".edit-description"),s=n.querySelector(".edit-date"),a=n.querySelector(".edit-priority");if(""===c.value)c.style.border="1px solid red",c.setAttribute("placeholder","Title Required"),s.style.border="1px solid black";else if(""===s.value)s.style.border="1px solid red",c.style.border="1px solid black";else{l[e].title=c.value,l[e].description=i.value,l[e].dueDate=d.formatDate(s),l[e].priority=a.value,t(l,"todo");const n=r(l[e],e);o.parentNode.replaceChild(n,o)}}))}))}(p,l),function(e,o){e.addEventListener("click",(()=>{o.remove();const e=o.getAttribute("data-index");console.log(e);let d=n("todo");d.splice(e,1),t(d,"todo")}))}(m,l),u.appendChild(m),l.appendChild(u),l.style.backgroundColor=e.color,l.classList.add("grid-item"),l}o.startSidebar(),d.startHelpers(),document.getElementById("submit-todo").addEventListener("click",(()=>{event.stopPropagation();let e=n("todo");const r=document.getElementById("title-input"),c=document.getElementById("description-input"),i=document.getElementById("date-input"),s=document.getElementById("priority-input");if(""===r.value)r.style.border="1px solid red",r.setAttribute("placeholder","Title Required"),i.style.border="1px solid white";else if(""===i.value)i.style.border="1px solid red",r.style.border="1px solid white";else{const n=d.formatDate(i);let a=`hsl(${360*Math.random()}, 100%, 85%)`;const u=((e,t,n,o,d,l)=>({title:e,description:t,dueDate:n,color:o,priority:d,project:l}))(r.value,c.value,n,a,s.value,o.getCurrentProject());r.value="",c.value="",i.value="",document.getElementById("select-default").selected="Low",e.push(u),t(e,"todo"),d.closeNewTodo(),l()}})),l(),document.getElementById("sort-priority").addEventListener("click",(()=>{let e=n("todo"),o=[];e.forEach((e=>{"High"===e.priority&&o.push(e)})),e.forEach((e=>{"Medium"===e.priority&&o.push(e)})),e.forEach((e=>{"Low"===e.priority&&o.push(e)})),e.every(((e,t)=>e===o[t]))&&o.reverse(),t(o,"todo"),l()})),document.getElementById("sort-date").addEventListener("click",(()=>{let e=n("todo"),o=[...e];o.sort((function(e,t){return new Date(e.dueDate)-new Date(t.dueDate)})),e.every(((e,t)=>e===o[t]))&&o.reverse(),t(o,"todo"),l()}))})();